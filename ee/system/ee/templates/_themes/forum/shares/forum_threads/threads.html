
<script type="text/javascript">
<!--

function showimage(loc, width, height)
{
	window.open(loc,'Image','width='+width+',height='+height+',screenX=0,screenY=0,top=0,left=0,toolbar=0,status=0,scrollbars=0,location=0,menubar=1,resizable=1');
	return false;
}

function showfastreply()
{
    if (document.getElementById('fastreply').style.display == "block")
    {
        document.getElementById('fastreply').style.display = "none";
    }
    else
    {
        document.getElementById('fastreply').style.display = "block";
    }
}

function showHideRow(el)
{
    if (document.getElementById(el).style.display == "")
    {
        document.getElementById(el).style.display = "none";
    }
    else
    {
        document.getElementById(el).style.display = "";
    }
}

function post(path, params, method) {
    method = method || "post"; // Set method to post by default if not specified.

    // The rest of this code assumes you are not using a library.
    // It can be made less wordy if you use one.
    var form = document.createElement("form");
    form.setAttribute("method", method);
    form.setAttribute("action", path);

    for(var key in params) {
        if(params.hasOwnProperty(key)) {
            var hiddenField = document.createElement("input");
            hiddenField.setAttribute("type", "hidden");
            hiddenField.setAttribute("name", key);
            hiddenField.setAttribute("value", params[key]);

            form.appendChild(hiddenField);
         }
    }

    document.body.appendChild(form);
    form.submit();
}

function subscribe(el)
{
	var csrf_token = "{csrf_token}",
	         parts = el.href.slice(0, -1).split('/'),
		  topic_id = parts.pop(),
		       url = parts.join('/');

	post(url, {
		topic_id: topic_id,
		csrf_token: csrf_token
	});

	return false;
}
//-->
</script>

<table cellpadding="0" cellspacing="0" border="0" style="width:100%;">
<tr>
<td valign="middle" style="width:80%;">
{paginate}
<table cellpadding="0" cellspacing="0" border="0" class="paginateBorder">
<tr>
<td><div class="paginateStat">{current_page} {lang:of} {total_pages}</div></td>
{pagination_links}
</tr>
</table>
{/paginate}
</td>
{if can_post}
<td class="button150">
<a href="#" title="{lang:post_reply}" onclick="navJump('{path:post_reply}')"><img src="{path:image_url}bt_post_reply.gif" border='0' width='151' height='26' alt="{lang:post_reply}"/></a>
</td>
{/if}

{if can_post_topics}
<td class="button150">
<a href="#" title="{lang:post_new_topic}" onclick="navJump('{path:new_topic}')"><img src="{path:image_url}bt_new_topic.gif" border='0' width='151' height='26' alt="{lang:post_new_topic}"/></a>
</td>
{/if}

</tr>
</table>

{if poll}{include:poll}{/if}

<table cellpadding="0" cellspacing="0" border="0" style="width:100%;" >
<tr>
<td class="tableHeadingBG" colspan="2"><div class="tableHeading">{topic_title}</div></td>
<td class="tableHeadingBG BGright" colspan="1" align="right"><div class="altLinks">{if logged_in}<a href="{path:subscribe}" onclick="return subscribe(this)"><b>{lang:subscribe}</b></a>{/if}&nbsp;</div></td>

</tr>

{include:thread_rows}

</table>

<table cellpadding="0" cellspacing="0" border="0" style="width:100%;">
<tr>
<td valign="middle" style="width:70%;">

{paginate}
<table cellpadding="0" cellspacing="0" border="0" class="paginateBorder">
<tr>
<td><div class="paginateStat">{current_page} {lang:of} {total_pages}</div></td>
{pagination_links}
</tr>
</table>
{/paginate}

</td>
{if can_post}

<td class="button150">
<a href="#" title="{lang:fast_reply}" onclick="showfastreply();return false;"><img src="{path:image_url}bt_fast_reply.gif" border='0' width='151' height='26' alt="{lang:fast_reply}"/></a>
</td>

<td class="button150">
<a href="#" title="{lang:post_reply}" onclick="navJump('{path:post_reply}')"><img src="{path:image_url}bt_post_reply.gif" border='0' width='151' height='26' alt="{lang:post_reply}"/></a>
</td>
{/if}

{if can_post_topics}
<td class="button150">
<a href="#" title="{lang:post_new_topic}" onclick="navJump('{path:new_topic}')"><img src="{path:image_url}bt_new_topic.gif" border='0' width='151' height='26' alt="{lang:post_new_topic}"/></a>
</td>
{/if}

</tr>
</table>

{if can_post}
<div id="fastreply" style="display: none; padding:0;">
{include:fast_reply_form}
</div>
{/if}


<div class="defaultCenter">
<div class="marginpad">

{if previous_topic}
&lsaquo;&lsaquo; <a href="{path:previous_topic_url}">{previous_topic_title}</a>
{/if}

{if next_topic}
&nbsp;&nbsp;&nbsp;&nbsp; <a href="{path:next_topic_url}">{next_topic_title}</a> &rsaquo;&rsaquo;
{/if}

</div>
</div>
